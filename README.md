
# Мышеловка (живоловка) на Arduino с оповещением по радиоканалу.

Устройство представляет собой небольшую коробку с захлопывающейся дверцей. В свободном состоянии дверца притягивается резинкой или пружиной, закрывая вход в коробку. Во взведённом состоянии дверца удерживается рычагом сервопривода (на него накинута петля из нитки, привязанной к дверце). 
Элементом сигнализации является оптопара (ИК-светодиод и оптотранзистор), расположенная внутри коробки, точнее на верхней её стенке. А на нижней стенке располагается зеркало (в моём случае маленький компакт-диск), таким образом, чтобы в состоянии покоя излучаемый ИК-светодиодом сигнал, отражаясь, попадал на оптотранзистор. Зеркало лежит на небольшой подставке и если как-то воздействовать на него (наступить на край, сдвинуть), то изменится угол отражения ИК-сигнала. Контроллер фиксирует это событие как сигнал тревоги, крутит сервопривод, с рычага сервопривода соскальзывает петля и дверца закрывается.

Управление осуществляется одной кнопкой. Короткое нажатие (нажатие с удержанием примерно 1 сек) переключает состояние (взвести/отпустить), а долгое нажатие (с удержанием примерно 2 сек) переключает в режим калибровки и обратно. При переходе в режим калибровки светодиод на плате 3 раза коротко моргнёт, а при переходе в режим работы - 2 раза.
В режиме калибровки, во взведённом состоянии можно настраивать расположение зеркала. Светодиод на плате показывает состояние оптотранзистора: если светится, значит ИК-сигнал не попадает на оптотранзистор - продолжаем поиск положения. А если погас, то значит положение найдено.

Дополнительно реализовано оповещение по радиоканалу (433 МГц). Два раза в секунду передаётся состояние мышеловки (0 - покой, 1 - тревога). На стороне приёмника в данном случае только световая сигнализация (светодиод), но при необходимости можно добавить любой другой вид оповещения.

Используемое железо:  
Мышеловка: Arduino, сервопривод (SG-90), ИК-светодиод, оптотранзистор (BPX 38-4), передатчик на 433 МГц (FS1000A), кнопка и несколько резисторов (номиналы на схеме).  
Приёмник: Arduino, приёмник на 433 МГц (MX-RM-5V), светодиод с резистором на 330 Ом.

Питание мышеловки в данном случае осуществляется от блока питания на 5В.

Электрическая схема:
![Schematic_mousetrap_2021-11-29](/Schematic_mousetrap_2021-11-29.png "Schematic_mousetrap_2021-11-29.png")
